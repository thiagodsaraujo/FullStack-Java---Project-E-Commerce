<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: page_head('Brands - TitaShop Admin')"/>
<body>
    <div class="container-fluid">
        <div th:replace="navigation :: menu"></div>
        <div>
            <h2 class="text-black-100">Manage Brands</h2>

            <a th:href="@{/brands/new}" class=" fas fa-user-plus fa-2x icon-dark mr-2 ml-2"></a>
            &nbsp;|&nbsp;
            <a th:href="@{/brands/export/csv}" class="fas fa-solid fa-file-csv fa-2x icon-dark mr-2"></a>
            &nbsp;|&nbsp;
        </div>

        <div th:replace="fragments :: search_form_and_message('/brands/page/1')"/>

        <div class="full-details">
            <p class="text-center font-weight-lighter">List of Brands</p>
            <table class="table table-bordered table-striped table-hover table-responsive-xl table-condensed">
                <thead class="thead-dark">
                    <tr>
                        <th>Brand ID</th>
                        <th>Logo</th>
                        <th>Brand Name</th>
                        <th>Categories</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="brand: ${listBrands}">
                        <td>[[${brand.id}]]</td>
                        <td><!--/*@thymesVar id="photos" type="images"*/-->
                        <span th:if="${brand.logo == null}" class="fas fa-image-portrait fa-3x icon-silver"></span>
                            <!--/*@thymesVar id="getPhotosImagePath" type=""*/-->
                            <img th:if="${brand.logo != null}" th:src="@{${brand.photosImagePath}}"
                            style="width: 80px"/>
                        </td>
                        <td>[[${brand.name}]]</td>
                        <td>
                           <th:block th:each="cat : ${brand.categories}">
                               <span class="badge badge-secondary" th:text="${cat.name}"></span>
                           </th:block>
                        </td>
                        <td>
                            <div th:replace="fragments :: edit('brand', '/brands/edit/' + ${brand.id})" />
                            &nbsp;&nbsp;
                            <div th:replace="fragments :: delete('brand', ${brand.id}, '/brand/delete/' + ${brand.id}, true)" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

            </div>
        </div>
        <div th:replace="modal_fragments :: confirm_modal" />
        <div th:replace="fragments :: footer"/>
    </div>
            <script th:src="@{/js/common.list.js}"></script>
            <script type="text/javascript">
                moduleURL = "[[@{/brands}]]";
            $(document).ready(function (){
                $(".link-delete").on("click", function (e){
                    e.preventDefault();
                    showDeleteConfirmModal($(this), 'brand');
                });
            });
        </script>
</body>
</html>